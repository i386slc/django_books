# 1.4 Создание файловой структуры проекта

Единая структура файлов для ваших проектов делает вас более организованным и продуктивным. Когда у вас определен базовый рабочий процесс, вы можете быстрее погрузиться в бизнес-логику и создавать потрясающие проекты.

## Подготовка

Если вы еще этого не сделали, создайте каталог `~/projects`, в котором вы будете хранить все свои проекты Django (об этом вы можете прочитать в рецепте [Работа с виртуальной средой](1.3-rabota-s-virtualnoi-sredoi.md)).

Затем создайте каталог для вашего конкретного проекта, например, **myproject\_website**. Запустите виртуальную среду в каталоге **env**. Активируйте его и установите туда **Django**, как описано в предыдущем рецепте. Мы предлагаем добавить каталог **commands** для локальных сценариев оболочки, связанных с проектом, каталог **db\_backups** для дампов базы данных, каталог **mockups** для файлов дизайна веб-сайта и, что наиболее важно, каталог **src** для вашего проекта Django.

## Как это сделать...

Выполните следующие шаги, чтобы создать файловую структуру для вашего проекта:

1. Активировав виртуальную среду, перейдите в каталог **src** и запустите новый проект Django следующим образом:

```bash
(env)$ django-admin.py startproject myproject
```

Выполненная команда создаст каталог с именем **myproject** с файлами проекта внутри. Этот каталог будет содержать модуль Python, также называемый **myproject**. Для ясности и удобства мы переименуем каталог верхнего уровня в **django-myproject**. Это каталог, который вы поместите под контроль версий, поэтому он будет иметь `.git` или подкаталог с аналогичным названием.

2\. В каталоге **django-myproject** создайте файл **README.md**, чтобы описать свой проект для новых разработчиков **myprojects** `developmentdjango-admin.py startproject`.

3\. Каталог **django-myproject** также будет содержать следующее:

* Пакет Python вашего проекта с именем **myproject**.
* Требования **pip** вашего проекта к фреймворку Django и другими внешними зависимостями (читайте об этом в рецепте Обработка зависимостей проекта с помощью pip).
* Лицензия проекта в файле **LICENSE**. Если ваш проект с открытым исходным кодом, вы можете выбрать одну из самых популярных лицензий по [адресу](https://choosealicense.com/).

4\. В корне вашего проекта, **django-myproject**, создайте следующее:

* Каталог **media** для загрузок проекта
* Каталог **static** для собранных статических файлов
* Каталог **locale** для переводов проекта
* Каталог **externals** для внешних зависимостей, которые включены в этот проект, когда вы не можете использовать требования **pip**.

5\. Каталог **myproject** должен содержать следующие каталоги и файлы:

* Каталог **apps**, в который вы поместите все свои внутренние приложения Django для проекта. Рекомендуется иметь одно приложение с именем **core** или **utils** для общих функций проектов.
* Каталог **settings** для настроек вашего проекта (об этом читайте в рецепте Настройка параметров для сред разработки, тестирования, промежуточной и производственной среды).
* Каталог **site\_static** для статических файлов, специфичных для проекта.
* Каталог **templates** для HTML-шаблонов проекта.
* Файл **urls.py** для конфигурации URL проекта.
* Файл **wsgi.py** для конфигурации веб-сервера проекта.

6\. В каталоге **site\_static** создайте каталог **site** как пространство имен для статических файлов, специфичных для сайта. Затем мы разделим статические файлы между категоризированными подкаталогами внутри него. Например, см. следующее:

* **scss** для файлов Sass (необязательно)
* **css** для сгенерированных минимизированных каскадных таблиц стилей (CSS)
* **img** для стилизации изображений, фавиконов и логотипов
* **js** для JavaScript проекта
* **vendor** для любого стороннего модуля, объединяющего все типы файлов, например текстовый редактор **TinyMCE**.

7\. Помимо каталога **site**, каталог **site\_static** также может содержать перезаписанные статические каталоги сторонних приложений — например, он может содержать **cms**, который перезаписывает статические файлы из **Django CMS**. Чтобы сгенерировать файлы CSS из Sass и минимизировать файлы JavaScript, вы можете использовать приложения **CodeKit** ([https://codekitapp.com/](https://codekitapp.com/)) или **Prepros** ([https://prepros.io/](https://prepros.io/)) с графическим пользовательским интерфейсом.

8\. Поместите свои шаблоны, разделенные приложениями, в каталог **templates**. Если файл шаблона представляет страницу (например, `change_item.html` или `item_list.html`), поместите его непосредственно в каталог шаблонов приложения. Если шаблон включен в другой шаблон (например, `similar_items.html`), поместите его в подкаталог **includes**. Кроме того, ваш каталог шаблонов может содержать каталог с именем **utils** для глобально повторно используемых фрагментов, таких как нумерация страниц и выбор языка.

## Как это работает...

Вся файловая структура для полного проекта будет выглядеть следующим образом:

```
myproject_website/
├── commands/
├── db_backups/
├── mockups/
├── src/
│ └── django-myproject/
│ ├── externals/
│ │ ├── apps/
│ │ │ └── README.md
│ │ └── libs/
│ │ └── README.md
│ ├── locale/
│ ├── media/
│ ├── myproject/
│ │ ├── apps/
│ │ │ ├── core/
│ │ │ │ ├── __init__.py
│ │ │ │ └── versioning.py
│ │ │ └── __init__.py
│ │ ├── settings/
│ │ │ ├── __init__.py
│ │ │ ├── _base.py
│ │ │ ├── dev.py
│ │ │ ├── production.py
│ │ │ ├── sample_secrets.json
│ │ │ ├── secrets.json
│ │ │ ├── staging.py
│ │ │ └── test.py
│ │ ├── site_static/
│ │ │ └── site/
│ │ │ ├── css/
│ │ │ │ └── style.css
│ │ │ ├── img/
│ │ │ │ ├── favicon-16x16.png
│ │ │ │ ├── favicon-32x32.png
│ │ │ │ └── favicon.ico
│ │ │ ├── js/
│ │ │ │ └── main.js
│ │ │ └── scss/
│ │ │ └── style.scss
│ │ ├── templates/
│ │ │ ├── base.html
│ │ │ └── index.html
│ │ ├── __init__.py
│ │ ├── urls.py
│ │ └── wsgi.py
│ ├── requirements/
│ │ ├── _base.txt
│ │ ├── dev.txt
│ │ ├── production.txt
│ │ ├── staging.txt
│ │ └── test.txt
│ ├── static/
│ ├── LICENSE
│ └── manage.py
└── env/
```

## Есть еще кое-что...

Чтобы ускорить создание проекта способом, который мы только что описали, вы можете использовать шаблон проекта с [https://github.com/archatas/django-myproject](https://github.com/archatas/django-myproject). После загрузки кода выполните глобальный поиск и замените **myproject** осмысленным именем вашего проекта, и все готово.

## Смотрите также

* Рецепт [Обработка зависимостей проекта с помощью pip](1.5-obrabotka-zavisimostei-proekta-s-pomoshyu-pip.md)
* Рецепт [включения внешних зависимостей в ваш проект](1.9-vklyuchenie-vneshnikh-zavisimostei-v-vash-proekt.md)
* Рецепт [Настройка параметров для среды разработки, тестирования, промежуточной и производственной среды](1.6-nastroika-parametrov-dlya-sredy-razrabotki-testirovaniya-promezhutochnoi-i-proizvodstvennoi-sred.md)
* Рецепт «Развертывание на Apache с mod\_wsgi для промежуточной среды» в главе 12 «Развертывание».
* Рецепт «Развертывание на Apache с mod\_wsgi для производственной среды» в главе 12 «Развертывание».
* Рецепт «Развертывание промежуточной среды на Nginx и Gunicorn» в главе 12 «Развертывание».
* Рецепт «Развертывание на Nginx и Gunicorn для производственной среды» в главе 12 «Развертывание».

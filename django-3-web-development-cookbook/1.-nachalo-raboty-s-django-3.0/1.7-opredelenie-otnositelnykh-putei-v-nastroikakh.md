# 1.7 Определение относительных путей в настройках

Django требует, чтобы вы определили различные пути к файлам в настройках, такие как корень ваших медиафайлов, корень ваших статических файлов, путь к шаблонам и путь к файлам перевода. Для каждого разработчика вашего проекта пути могут отличаться, так как виртуальную среду можно настроить где угодно, а пользователь может работать на macOS, Linux или Windows. Даже когда ваш проект заключен в контейнер **Docker**, это снижает удобство сопровождения и переносимости для определения абсолютных путей. В любом случае есть способ определить эти пути динамически, чтобы они относились к каталогу вашего проекта **Django**.

## Подготовка

Запустите проект Django и откройте `settings/_base.py`.

## Как это сделать...

Соответственно измените настройки, связанные с путями, вместо того, чтобы жестко указывать пути к вашим локальным каталогам, следующим образом:

```python
# settings/_base.py
import os
BASE_DIR = os.path.dirname(
    os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
)
# ...
TEMPLATES = [{
    # ...
    DIRS: [
        os.path.join(BASE_DIR, 'myproject', 'templates'),
    ],
    # ...
}]
# ...
LOCALE_PATHS = [
    os.path.join(BASE_DIR, 'locale'),
]
# ...
STATICFILES_DIRS = [
    os.path.join(BASE_DIR, 'myproject', 'site_static'),
]
STATIC_ROOT = os.path.join(BASE_DIR, 'static')
MEDIA_ROOT = os.path.join(BASE_DIR, 'media')
```

## Как это работает...

По умолчанию настройки Django включают значение **BASE\_DIR**, которое представляет собой абсолютный путь к каталогу, содержащему `manage.py` (обычно на один уровень выше, чем файл `settings.py`, или на два уровня выше, чем `settings/_base.py`). Затем мы устанавливаем все пути относительно **BASE\_DIR** с помощью функции `os.path.join()`.

Основываясь на макете каталога, который мы установили в рецепте «[Создание файловой структуры проекта](1.4-sozdanie-failovoi-struktury-proekta.md)», мы вставили `"myproject"` в качестве промежуточного сегмента пути для некоторых из предыдущих примеров, поскольку в нем были созданы связанные папки.

## Смотрите также

* Рецепт [создания файловой структуры проекта](1.4-sozdanie-failovoi-struktury-proekta.md)
* Рецепт Работа с контейнерами Docker для Django, Gunicorn, Nginx и PostgreSQL
* Рецепт [включения внешних зависимостей в ваш проект](1.9-vklyuchenie-vneshnikh-zavisimostei-v-vash-proekt.md)

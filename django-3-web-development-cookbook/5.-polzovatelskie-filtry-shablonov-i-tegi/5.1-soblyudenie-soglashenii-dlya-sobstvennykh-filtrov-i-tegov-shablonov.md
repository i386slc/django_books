# 5.1 Соблюдение соглашений для собственных фильтров и тегов шаблонов

Пользовательские фильтры и теги шаблонов могут сбивать с толку и быть непоследовательными, если у вас нет рекомендаций, которым нужно следовать. Важно иметь как удобные, так и гибкие фильтры шаблонов и теги, которые должны максимально обслуживать редакторов шаблонов. В этом рецепте мы рассмотрим некоторые соглашения, которые вы должны использовать при расширении функциональности системы шаблонов Django:

1. Не создавайте и не используйте настраиваемые фильтры или теги шаблонов, если логика страницы лучше подходит для представления, обработчиков контекста или методов модели. Если содержимое зависит от контекста, например список объектов или представление сведений об объекте, загрузите объект в представление. Если вам нужно отображать некоторый контент почти на каждой странице, создайте обработчик контекста. Используйте пользовательские методы модели вместо шаблонных фильтров, когда вам нужно получить некоторые свойства объекта, не относящиеся к контексту шаблона.
2. Назовите библиотеку тегов шаблона с суффиксом **\_tags**. Когда ваша библиотека тегов шаблонов называется не так, как ваше приложение, вы можете избежать двусмысленных проблем с импортом пакетов.
3. Во вновь созданной библиотеке отделите фильтры от тегов, например, с помощью комментариев, как показано в следующем коде:

```python
# myproject/apps/core/templatetags/utility_tags.py
from django import template

register = template.Library()

""" TAGS """
# Ваши теги становятся первыми

""" FILTERS """
# Ваши фильтры идут сюда…
```

4\. При создании тегов расширенного пользовательского шаблона убедитесь, что их синтаксис легко запомнить, включая следующие конструкции, которые могут следовать за именем тега:

* `for [app_name.model_name]`: включая эту конструкцию, чтобы использовать конкретную модель.
* `using [template_name]`: включая эту конструкцию, чтобы использовать шаблон для вывода тега шаблона.
* `limit [count]`: включая эту конструкцию, чтобы ограничить результаты определенным числом.
* `as [context_variable]`: включая эту конструкцию, чтобы сохранить результаты в переменной контекста, которую можно повторно использовать несколько раз.

5\. Старайтесь избегать множественных значений, определяемых позиционно в тегах шаблона, если только они не говорят сами за себя. В противном случае это, скорее всего, запутает разработчиков шаблонов.

6\. Приведите как можно больше разрешимых аргументов. Строки без кавычек следует рассматривать как переменные контекста, которые необходимо разрешить, или как короткие слова, которые напоминают вам о структуре компонентов тега шаблона.
